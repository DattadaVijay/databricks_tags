apiVersion: v3.1.0
kind: DataContract
id: my-data-contract-id
name: My Data Contract
version: 1.0.0
status: draft

team:
  name: tag policies

description:
  purpose: >
    Validate that incoming bronze-layer order data conforms to the agreed schema
    and semantic expectations.
  usage: >
    Intended to validate upstream source data before further transformation
    into silver and gold layers.
  limitations: >
    This contract does not enforce business-level aggregations or downstream SLAs.

schema:
  - name: bronze_orders
    description: >
      Raw bronze orders table containing event-level order data ingested
      from upstream systems.
    properties:
      - event_type:
          type: string
          description: >
            Type of order event emitted by the source system.
          enum:
            - OrderCreated
            - OrderCancelled
          required: true

      - order_id:
          type: string
          description: >
            Unique identifier of the order across the platform.
          required: true

      - customer_id:
          type: string
          description: >
            Unique identifier of the customer who placed the order.
          required: false

      - order_ts:
          type: timestamp
          description: >
            Timestamp when the order event occurred in the source system.
            Represents event time, not ingestion time.
          required: true

      - channel:
          type: string
          description: >
            Channel through which the order was placed.
          enum:
            - web
            - mobile
          required: false

servers:
  - server: databricks_workspace
    type: databricks
    host: https://dbc-e3761da8-7d95.cloud.databricks.com/
    catalog: Workspace
    schema: default

slaProperties:
  - property: latency
    description: >
      Maximum acceptable delay between source event time and availability
      in the bronze table.
    value: 1h

  - property: availability
    description: >
      Percentage of time the dataset is expected to be available for consumption.
    value: 99.9%
