dataContractSpecification: "0.9.3"
id: bronze-orders-contract
info:
  title: Bronze Orders Contract
  version: 1.0.0
  description: "Data contract for the raw bronze orders table as verified in Databricks."

servers:
  dev:
    host: dbc-e3761da8-7d95.cloud.databricks.com
    type: databricks
    catalog: workspace
    schema: default

models:
  bronze_orders: 
    type: table
    description: "Raw ingestion table for order lifecycle events."
    fields:
      event_type:
        type: string
        description: "The type of event (e.g., OrderCreated, OrderCancelled)."
        enum: [OrderCreated, OrderCancelled]
      order_id:
        type: string
        description: "The business identifier for the order."
        required: true
      customer_id:
        type: string
        description: "The unique identifier for the customer."
      order_ts:
        type: timestamp
        description: "The UTC timestamp of the event."
      channel:
        type: string
        description: "The source channel of the order (web or mobile)."
        enum: [web, mobile]
    
    checks:
      - name: check_not_empty
        description: "Ensures the table contains data."
        must: count(*) > 0